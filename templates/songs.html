{% extends 'layout.html' %}

{% block body %}

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<script>
function play(p1) {
  // window.alert(p1)
  // var url = p1;
  document.getElementById("iframe").src = p1  // Change url of widget
}    
</script>

<h2>Song Selection</h2>

<div class="w3-container" style="width:100%; height:500px; overflow:auto;">
  <table class="w3-table-all w3-hoverable">
    <thead>
      <tr class="w3-gray">
        <th width="30%">Song</th>
        <th width="30%">Album</th>
        <th width="30%">Genre</th>
        <th width="10%">Select</th> 
      </tr>
    </thead>
    {% for item in items %}
      <tr> 
        <td>{{ item[0] }}</td>
        <td>{{ item[1] }}</td>
        <td>{{ item[2] }}</td>
        <td> 
          <button class="w3-button w3-round w3-small w3-blue" onclick="play('{{ item[3] }}')">Select</button>
        </td> 
      </tr>
    {% endfor %}
  </table>
</div>


  <!---
    <table cellspacing="0" cellpadding="0" border="0" width="100%">
     <tr>
      <td>
       <table cellspacing="0" cellpadding="1" border="1" width="100%" >
         <tr style="color:white;background-color:grey">
            <th width="60%">Title</th>
            <th width="28%">Genre</th>
            <th>Duration</th>
         </tr>
       </table>
      </td>
     </tr>
      <tr>
      <td>
         <div style="width:100%; height:450px; overflow:auto;">
           <table cellspacing="0" cellpadding="1" border="1" width="100%" class="table" >
            {% for item in items %}
              <tr>
                <td>{{ item[0] }}</td>
                <td>{{ item[1] }}</td>
                <td>{{ item[2] }}</td>
              </tr>
            {% endfor %}
           </table>  
         </div>
       </td>
      </tr>
    </table>
  --->

<div class="footer">
  <iframe width="80%" height="125" scrolling="no" frameborder="no" src='https://w.soundcloud.com/player/?url=https%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F441889332&show_artwork=true&client_id=93e33e327fd8a9b77becd179652272e2%27' id="iframe"></iframe>
  <script src="https://w.soundcloud.com/player/api.js" type="text/javascript"> </script>
    <script type="text/javascript">
      (function() {
        var widgetIframe = document.getElementById('sc-widget'),
        widget       = SC.Widget(widgetIframe),
        newSoundUrl = 'http://api.soundcloud.com/tracks/441456084';

          widget.bind(SC.Widget.Events.READY, function() {
          // load new widget
            widget.bind(SC.Widget.Events.FINISH, function() {
            widget.load(newSoundUrl, {
            show_artwork: false
            });
          });
        });
      }());
    </script>
</div>


{% endblock %}
